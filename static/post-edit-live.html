<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="jquery-ui.min.css">
    <script src="external/jquery/jquery.js"></script>
    <script src="jquery-ui.min.js"></script>
    <link rel="stylesheet" width='100' type="text/css" href="styles.css" media="screen" />
</head>
<body>
    <div id="content">
        <div id="closediv"><button id="go-home">Return to Main Page</button></div>
        <center><h2>Composing Post</h2></center>
        <p>Post Title: <input type='text' id='title-field' value='A Sample Post'/></p>
        <p>Post Body:</p>
        <textarea id='post-body'>Hello and welcome to my website!

I am currently in the process of finishing off the development of the blog component of my website. Most of the most recent work has gone into making my python desktop app plays nicely with the API (and then, in turn, my website displays that content correctly. 

I will delete this post once things are up-and-running!</textarea>
        <center>
            <button id='preview'>Preview Post</button>
            <button id='save-post'>Save Post</button>
        </center>
    </div>

    <script>
        var new_post = false;
        var postid = 1728368092;
        $("#go-home").on("click", function() {pywebview.api.go_to('main');});
        $("#preview").on("click", function(){
            var title = $('#title-field').val();
            var date = "Monday, 25 January 2019 3:43pm";
            var body = $('#post-body').val();
            pywebview.api.preview([title, date, body])
            pywebview.api.reset()
        });
        $('#save-post').on("click", function() {
            params = [new_post, postid, $('#title-field').val(), $('#post-body').val()]
            pywebview.api.submit(params).then(function() {
                alert("Post Updated!");
                pywebview.api.go_to('main');
            });
        });
    </script>
</body>
</html>